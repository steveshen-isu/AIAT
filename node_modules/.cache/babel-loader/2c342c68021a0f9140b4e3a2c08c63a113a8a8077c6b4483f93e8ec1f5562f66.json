{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ZHEREN\\\\ai-solver\\\\src\\\\components\\\\TopicSelector.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TopicSelector() {\n  _s();\n  const [subjects, setSubjects] = useState([]);\n  const [textbooks, setTextbooks] = useState([]);\n  const [chapters, setChapters] = useState([]);\n  const [selectedSubject, setSelectedSubject] = useState('');\n  const [selectedTextbook, setSelectedTextbook] = useState('');\n  const [selectedChapter, setSelectedChapter] = useState('');\n  const [latexCode, setLatexCode] = useState('');\n  useEffect(() => {\n    fetch('/api/subjects').then(response => response.json()).then(data => setSubjects(data)).catch(error => console.error('Error fetching subjects:', error));\n  }, []);\n  useEffect(() => {\n    if (selectedSubject) {\n      fetch(`/api/textbooks?subjectId=${selectedSubject}`).then(response => response.json()).then(data => {\n        setTextbooks(data);\n        setChapters([]); // Clear chapters when subject changes\n      }).catch(error => console.error('Error fetching textbooks:', error));\n    }\n  }, [selectedSubject]);\n  useEffect(() => {\n    if (selectedTextbook) {\n      fetch(`/api/chapters?textbookId=${selectedTextbook}`).then(response => response.json()).then(data => setChapters(data)).catch(error => console.error('Error fetching chapters:', error));\n    }\n  }, [selectedTextbook]);\n  useEffect(() => {\n    if (selectedChapter) {\n      fetch(`/api/latex?chapterId=${selectedChapter}`).then(response => response.json()).then(data => setLatexCode(data.latexCode)).catch(error => console.error('Error fetching LaTeX:', error));\n    }\n  }, [selectedChapter]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Select a Chapter\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: selectedSubject,\n      onChange: e => setSelectedSubject(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select a subject\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), subjects.map(subject => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: subject.id,\n        children: subject.name\n      }, subject.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: selectedTextbook,\n      onChange: e => setSelectedTextbook(e.target.value),\n      disabled: !selectedSubject,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select a textbook\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 17\n      }, this), textbooks.map(textbook => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: textbook.id,\n        children: textbook.name\n      }, textbook.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n      value: selectedChapter,\n      onChange: e => setSelectedChapter(e.target.value),\n      disabled: !selectedTextbook,\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select a chapter\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 17\n      }, this), chapters.map(chapter => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: chapter.id,\n        children: chapter.title\n      }, chapter.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: latexCode && /*#__PURE__*/_jsxDEV(\"p\", {\n        dangerouslySetInnerHTML: {\n          __html: latexCode\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 31\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n}\n_s(TopicSelector, \"LoGSRGfq2f4V+ibRAXHfYYOc0BY=\");\n_c = TopicSelector;\nexport default TopicSelector;\nvar _c;\n$RefreshReg$(_c, \"TopicSelector\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","TopicSelector","_s","subjects","setSubjects","textbooks","setTextbooks","chapters","setChapters","selectedSubject","setSelectedSubject","selectedTextbook","setSelectedTextbook","selectedChapter","setSelectedChapter","latexCode","setLatexCode","fetch","then","response","json","data","catch","error","console","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","e","target","map","subject","id","name","disabled","textbook","chapter","title","dangerouslySetInnerHTML","__html","_c","$RefreshReg$"],"sources":["C:/Users/ZHEREN/ai-solver/src/components/TopicSelector.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction TopicSelector() {\r\n    const [subjects, setSubjects] = useState([]);\r\n    const [textbooks, setTextbooks] = useState([]);\r\n    const [chapters, setChapters] = useState([]);\r\n    const [selectedSubject, setSelectedSubject] = useState('');\r\n    const [selectedTextbook, setSelectedTextbook] = useState('');\r\n    const [selectedChapter, setSelectedChapter] = useState('');\r\n    const [latexCode, setLatexCode] = useState('');\r\n\r\n    useEffect(() => {\r\n        fetch('/api/subjects')\r\n            .then(response => response.json())\r\n            .then(data => setSubjects(data))\r\n            .catch(error => console.error('Error fetching subjects:', error));\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (selectedSubject) {\r\n            fetch(`/api/textbooks?subjectId=${selectedSubject}`)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    setTextbooks(data);\r\n                    setChapters([]); // Clear chapters when subject changes\r\n                })\r\n                .catch(error => console.error('Error fetching textbooks:', error));\r\n        }\r\n    }, [selectedSubject]);\r\n\r\n    useEffect(() => {\r\n        if (selectedTextbook) {\r\n            fetch(`/api/chapters?textbookId=${selectedTextbook}`)\r\n                .then(response => response.json())\r\n                .then(data => setChapters(data))\r\n                .catch(error => console.error('Error fetching chapters:', error));\r\n        }\r\n    }, [selectedTextbook]);\r\n\r\n    useEffect(() => {\r\n        if (selectedChapter) {\r\n            fetch(`/api/latex?chapterId=${selectedChapter}`)\r\n                .then(response => response.json())\r\n                .then(data => setLatexCode(data.latexCode))\r\n                .catch(error => console.error('Error fetching LaTeX:', error));\r\n        }\r\n    }, [selectedChapter]);\r\n\r\n    return (\r\n        <div>\r\n            <h1>Select a Chapter</h1>\r\n            <select value={selectedSubject} onChange={e => setSelectedSubject(e.target.value)}>\r\n                <option value=\"\">Select a subject</option>\r\n                {subjects.map(subject => (\r\n                    <option key={subject.id} value={subject.id}>{subject.name}</option>\r\n                ))}\r\n            </select>\r\n            <select value={selectedTextbook} onChange={e => setSelectedTextbook(e.target.value)} disabled={!selectedSubject}>\r\n                <option value=\"\">Select a textbook</option>\r\n                {textbooks.map(textbook => (\r\n                    <option key={textbook.id} value={textbook.id}>{textbook.name}</option>\r\n                ))}\r\n            </select>\r\n            <select value={selectedChapter} onChange={e => setSelectedChapter(e.target.value)} disabled={!selectedTextbook}>\r\n                <option value=\"\">Select a chapter</option>\r\n                {chapters.map(chapter => (\r\n                    <option key={chapter.id} value={chapter.id}>{chapter.title}</option>\r\n                ))}\r\n            </select>\r\n            <div>\r\n                {latexCode && <p dangerouslySetInnerHTML={{__html: latexCode}}></p>}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default TopicSelector;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}