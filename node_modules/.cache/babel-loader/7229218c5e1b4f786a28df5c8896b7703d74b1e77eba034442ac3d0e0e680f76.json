{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ROG\\\\ai-solver\\\\src\\\\components\\\\TopicSelector.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport 'C:/Users/ROG/node_modules/katex/dist/katex.min.css';\nimport katex from 'katex';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction renderLatex(latex) {\n  try {\n    const sanitizedLatex = latex.replace(/\\\\\\(|\\\\\\)|\\\\\\[|\\\\\\]/g, '');\n    const lines = sanitizedLatex.split('\\n');\n    return katex.renderToString(latex, {\n      throwOnError: false,\n      displayMode: true\n    });\n  } catch (e) {\n    return `<span class=\"error\">Error rendering LaTeX: ${e.message}</span>`;\n  }\n}\nconst typewriterEffect = async (content, setDisplayContent) => {\n  content = content.replace(/\\\\\\[\\s*/g, '\\\\['); // Replace \\[ with \\( and remove leading spaces\n  content = content.replace(/\\s*\\\\\\]/g, '\\\\]'); // Replace \\] with \\) and remove trailing spaces\n\n  const regex = /(\\\\\\(.*?\\\\\\))|(\\\\\\[.*?\\\\\\])/g;\n  const parts = content.split(regex).filter(Boolean);\n  let displayContent = '';\n  for (const part of parts) {\n    if (part.startsWith('\\\\(') || part.startsWith('\\\\[')) {\n      // Process LaTeX content\n      try {\n        const isDisplayMode = part.startsWith('\\\\[');\n        const mathContent = part.replace(/\\\\[\\(\\[\\)\\]]/g, ''); // Strip the delimiters\n        const renderedMath = katex.renderToString(mathContent, {\n          throwOnError: false,\n          displayMode: isDisplayMode\n        });\n\n        // Simulate typing the LaTeX\n        for (let i = 0; i < renderedMath.length; i++) {\n          displayContent += renderedMath[i];\n          setDisplayContent(displayContent);\n          /*                     await delayRandomTime(); \r\n           */\n        }\n      } catch (e) {\n        console.error('Error rendering LaTeX:', e);\n        displayContent += `<span class=\"error\">Failed to render LaTeX: ${part}</span>`;\n        setDisplayContent(displayContent);\n      }\n    } else {\n      // Process plain text content\n      for (let i = 0; i < part.length; i++) {\n        displayContent += part[i] === '\\n' ? '<br />' : part[i];\n        setDisplayContent(displayContent);\n        await textdelayRandomTime();\n      }\n    }\n  }\n};\n\n// Function to create random delay\n/* const delayRandomTime = () => {\r\n    return new Promise(resolve => {\r\n        const randomDelay = Math.floor(Math.random() * 1) + 0; // Delay between 50ms to 250ms\r\n        setTimeout(resolve, randomDelay);\r\n    });\r\n};  */\n\nconst textdelayRandomTime = () => {\n  return new Promise(resolve => {\n    const randomDelay = Math.floor(Math.random() * 100) + 10; // Delay between 50ms to 250ms\n    setTimeout(resolve, randomDelay);\n  });\n};\n\n// Main component to handle the content rendering\nconst TypewriterRenderer = ({\n  content\n}) => {\n  _s();\n  const [displayContent, setDisplayContent] = useState('');\n  useEffect(() => {\n    // Start the typewriter effect when the component loads\n    typewriterEffect(content, setDisplayContent);\n  }, [content]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'left',\n        // Align text to the left\n        margin: '0 auto',\n        // Center the div horizontally\n        padding: '10px',\n        // Add padding\n        maxWidth: '800px',\n        // Set a max width for the container\n        marginLeft: '20px',\n        // Add some space from the left\n        border: '4px solid gray',\n        // Gray border\n        backgroundColor: 'black',\n        // Black background\n        color: 'white',\n        // White text color for contrast\n        fontFamily: 'Arial, sans-serif',\n        // Font family\n        fontSize: '18px',\n        // Font size\n        fontWeight: 'lighter',\n        // Bold text\n        fontStyle: 'normal',\n        // Italic text\n        lineHeight: '1.6',\n        // Line height for readability\n        letterSpacing: '1px' // Space between letters\n      },\n      dangerouslySetInnerHTML: {\n        __html: displayContent\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 9\n  }, this);\n};\n_s(TypewriterRenderer, \"CWF/jOCr/6dzKRDifOVVHM2M7Es=\");\n_c = TypewriterRenderer;\nfunction escapeBackslashes(str) {\n  return str.replace(/\\\\/g, '\\\\\\\\');\n}\nconst renderContentWithLatex = content => {\n  // Regular expression to match LaTeX math mode delimiters \\( ... \\) or \\[ ... \\]\n  content = content.replace(/\\\\\\[\\s*/g, '\\\\['); // Replace \\[ with \\( and remove leading spaces\n  content = content.replace(/\\s*\\\\\\]/g, '\\\\]'); // Replace \\] with \\) and remove trailing spaces\n\n  const regex = /(\\\\\\(.*?\\\\\\))|(\\\\\\[.*?\\\\\\])|(\\\\\\[\\\\\\n.*?\\\\\\]\\\\\\n)/g;\n\n  // Split content into plain text and LaTeX parts\n  const parts = content.split(regex).filter(Boolean);\n  console.log('parts in rendercontent function', parts);\n\n  // Process each part and return a string of HTML\n  const htmlContent = parts.map((part, index) => {\n    if (!part) return ''; // Skip undefined or empty parts\n\n    // If part starts with a LaTeX delimiter, render it with KaTeX\n    if (part.startsWith('\\\\(') || part.startsWith('\\\\[')) {\n      try {\n        const isDisplayMode = part.startsWith('['); // Use display mode for \\[ \\]\n        const mathContent = part.replace(/\\\\[\\(\\[\\)\\]]/g, '');\n        return katex.renderToString(mathContent, {\n          delimiters: [{\n            left: '$$',\n            right: '$$',\n            display: true\n          }, {\n            left: '$',\n            right: '$',\n            display: false\n          }, {\n            left: '\\\\(',\n            right: '\\\\)',\n            display: false\n          }, {\n            left: '\\\\[',\n            right: '\\\\]',\n            display: true\n          }],\n          throwOnError: false,\n          displayMode: isDisplayMode\n        });\n      } catch (e) {\n        console.error('Error rendering LaTeX:', e);\n        return `<span class=\"error\">Failed to render LaTeX: ${part}</span>`;\n      }\n    } else {\n      // Render plain text, replacing newlines with <br> tags for line breaks\n      return part.replace(/\\n/g, '<br />');\n    }\n  });\n\n  // Join all parts into a single HTML string and return it\n  return htmlContent.join('');\n};\nfunction Typewriter({\n  text,\n  speed = 50\n}) {\n  _s2();\n  const [displayedText, setDisplayedText] = useState('');\n  useEffect(() => {\n    let index = 0;\n    const timer = setInterval(() => {\n      if (index < text.length) {\n        setDisplayedText(prev => prev + text[index]);\n        index++;\n      } else {\n        clearInterval(timer);\n      }\n    }, speed);\n    return () => clearInterval(timer);\n  }, [text, speed]);\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    dangerouslySetInnerHTML: {\n      __html: displayedText\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 170,\n    columnNumber: 12\n  }, this);\n}\n_s2(Typewriter, \"PLbRMeWiJa2NBtcoy3qeXvmWyJg=\");\n_c2 = Typewriter;\nfunction TopicSelector() {\n  _s3();\n  const [subjects, setSubjects] = useState([]);\n  const [textbooks, setTextbooks] = useState([]);\n  const [chapters, setChapters] = useState([]);\n  const [selectedSubject, setSelectedSubject] = useState('');\n  const [selectedTextbook, setSelectedTextbook] = useState('');\n  const [selectedChapter, setSelectedChapter] = useState('');\n  const [latexCode, setLatexCode] = useState('');\n  const [userQuestion, setUserQuestion] = useState('');\n  const [response, setResponse] = useState('');\n  console.log('Fetching from URL:', '/api/subjects');\n\n  // Fetch subjects on component mount\n  useEffect(() => {\n    fetch('http://localhost:200/api/subjects').then(response => response.json()).then(data => setSubjects(data)).catch(error => console.error('Error fetching subjects:', error));\n  }, []);\n\n  // Fetch textbooks when a subject is selected\n  useEffect(() => {\n    if (selectedSubject) {\n      fetch(`http://localhost:200/api/textbooks?subjectId=${selectedSubject}`).then(response => response.json()).then(setTextbooks).catch(error => console.error('Error fetching textbooks:', error));\n    } else {\n      setTextbooks([]); // Clear textbooks when no subject is selected\n    }\n  }, [selectedSubject]);\n\n  // Fetch chapters when a textbook is selected\n  useEffect(() => {\n    if (selectedTextbook) {\n      fetch(`http://localhost:200/api/chapters?textbookId=${selectedTextbook}`).then(response => response.json()).then(setChapters).catch(error => console.error('Error fetching chapters:', error));\n    } else {\n      setChapters([]); // Clear chapters when no textbook is selected\n    }\n  }, [selectedTextbook]);\n\n  // Fetch LaTeX code when a chapter is selected\n  useEffect(() => {\n    if (selectedChapter) {\n      fetch(`http://localhost:200/api/latex-code?chapterId=${selectedChapter}`).then(response => response.json()).then(data => setLatexCode(data.latexCode)).catch(error => console.error('Error fetching LaTeX code:', error));\n    }\n  }, [selectedChapter]);\n\n  /* const latexCodetest = `\r\n  \\\\begin{equation}\r\n  x + y = z\r\n  \\\\end{equation}\r\n  \\\\begin{equation}\r\n  x + y = z\r\n  \\\\end{equation}\r\n  `; */\n  /* const escapedLatexCode = escapeBackslashes(latexCode); */\n\n  console.log('Latex Code on render:', latexCode);\n  console.log('html on render:', renderContentWithLatex(latexCode));\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const res = await fetch('http://localhost:200/api/chatgpt', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          question: userQuestion,\n          latexCode: latexCode\n        })\n      });\n      const data = await res.json();\n      setResponse(data.response);\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n  const renderedresoponse = renderLatex(escapeBackslashes(response));\n  console.log('response from openai', response);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.left,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Select a Chapter\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedSubject,\n          onChange: e => setSelectedSubject(e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select a subject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 277,\n            columnNumber: 25\n          }, this), subjects.map(subject => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: subject.id,\n            children: subject.name\n          }, subject.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 276,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedTextbook,\n          onChange: e => setSelectedTextbook(e.target.value),\n          disabled: !selectedSubject,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select a textbook\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 25\n          }, this), textbooks.map(textbook => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: textbook.id,\n            children: textbook.name\n          }, textbook.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: selectedChapter,\n          onChange: e => setSelectedChapter(e.target.value),\n          disabled: !selectedTextbook,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select a chapter\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 25\n          }, this), chapters.map(chapter => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: chapter.id,\n            children: chapter.title\n          }, chapter.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(TypewriterRenderer, {\n              content: latexCode\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.right,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Ask a Question about the content\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"question\",\n            children: \"Your Question:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 306,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n            id: \"question\",\n            value: userQuestion,\n            onChange: e => setUserQuestion(e.target.value),\n            rows: \"4\",\n            cols: \"50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Submit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 17\n      }, this), response && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Response from Aisolver\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(TypewriterRenderer, {\n            content: response\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 302,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 272,\n    columnNumber: 9\n  }, this);\n}\n_s3(TopicSelector, \"KdeWd+8v7GCzQadBY5GgbJ/ECv4=\");\n_c3 = TopicSelector;\nconst styles = {\n  container: {\n    display: 'flex',\n    // Enable Flexbox\n    height: '100vh',\n    // Full viewport height\n    justifyContent: 'space-between',\n    // Space between the two sections\n    padding: '20px',\n    // Padding for the container\n    overflow: 'auto'\n  },\n  left: {\n    width: '45%',\n    // Left section width\n    backgroundColor: '#f0f0f0',\n    // Light gray background for the left section\n    padding: '20px',\n    borderRadius: '10px',\n    // Rounded corners\n    overflow: 'auto'\n  },\n  right: {\n    width: '45%',\n    // Right section width\n    backgroundColor: '#e0e0e0',\n    // Light gray background for the right section\n    padding: '20px',\n    borderRadius: '10px',\n    // Rounded corners\n    textAlign: 'left',\n    // Left align text in the typewriter\n    overflow: 'auto'\n  }\n};\nexport default TopicSelector;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"TypewriterRenderer\");\n$RefreshReg$(_c2, \"Typewriter\");\n$RefreshReg$(_c3, \"TopicSelector\");","map":{"version":3,"names":["React","useState","useEffect","katex","jsxDEV","_jsxDEV","renderLatex","latex","sanitizedLatex","replace","lines","split","renderToString","throwOnError","displayMode","e","message","typewriterEffect","content","setDisplayContent","regex","parts","filter","Boolean","displayContent","part","startsWith","isDisplayMode","mathContent","renderedMath","i","length","console","error","textdelayRandomTime","Promise","resolve","randomDelay","Math","floor","random","setTimeout","TypewriterRenderer","_s","children","style","textAlign","margin","padding","maxWidth","marginLeft","border","backgroundColor","color","fontFamily","fontSize","fontWeight","fontStyle","lineHeight","letterSpacing","dangerouslySetInnerHTML","__html","fileName","_jsxFileName","lineNumber","columnNumber","_c","escapeBackslashes","str","renderContentWithLatex","log","htmlContent","map","index","delimiters","left","right","display","join","Typewriter","text","speed","_s2","displayedText","setDisplayedText","timer","setInterval","prev","clearInterval","_c2","TopicSelector","_s3","subjects","setSubjects","textbooks","setTextbooks","chapters","setChapters","selectedSubject","setSelectedSubject","selectedTextbook","setSelectedTextbook","selectedChapter","setSelectedChapter","latexCode","setLatexCode","userQuestion","setUserQuestion","response","setResponse","fetch","then","json","data","catch","handleSubmit","preventDefault","res","method","headers","body","JSON","stringify","question","renderedresoponse","styles","container","value","onChange","target","subject","id","name","disabled","textbook","chapter","title","onSubmit","htmlFor","rows","cols","type","_c3","height","justifyContent","overflow","width","borderRadius","$RefreshReg$"],"sources":["C:/Users/ROG/ai-solver/src/components/TopicSelector.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport 'C:/Users/ROG/node_modules/katex/dist/katex.min.css';\r\nimport katex from 'katex';\r\n\r\nfunction renderLatex(latex) {\r\n    try {\r\n        const sanitizedLatex = latex.replace(/\\\\\\(|\\\\\\)|\\\\\\[|\\\\\\]/g, '');\r\n        const lines = sanitizedLatex.split('\\n');\r\n        return katex.renderToString(latex, {\r\n            throwOnError: false,\r\n            displayMode: true\r\n        });\r\n    } catch (e) {\r\n        return `<span class=\"error\">Error rendering LaTeX: ${e.message}</span>`;\r\n    }\r\n}\r\n\r\nconst typewriterEffect = async (content, setDisplayContent) => {\r\n    content = content.replace(/\\\\\\[\\s*/g, '\\\\[');  // Replace \\[ with \\( and remove leading spaces\r\n    content = content.replace(/\\s*\\\\\\]/g, '\\\\]');  // Replace \\] with \\) and remove trailing spaces\r\n\r\n    const regex = /(\\\\\\(.*?\\\\\\))|(\\\\\\[.*?\\\\\\])/g;\r\n    const parts = content.split(regex).filter(Boolean);\r\n    let displayContent = '';\r\n\r\n    for (const part of parts) {\r\n        if (part.startsWith('\\\\(') || part.startsWith('\\\\[')) {\r\n            // Process LaTeX content\r\n            try {\r\n                const isDisplayMode = part.startsWith('\\\\[');\r\n                const mathContent = part.replace(/\\\\[\\(\\[\\)\\]]/g, '');  // Strip the delimiters\r\n                const renderedMath = katex.renderToString(mathContent, { throwOnError: false, displayMode: isDisplayMode });\r\n\r\n                // Simulate typing the LaTeX\r\n                for (let i = 0; i < renderedMath.length; i++) {\r\n                    displayContent += renderedMath[i];\r\n                    setDisplayContent(displayContent);\r\n/*                     await delayRandomTime(); \r\n */                }\r\n            } catch (e) {\r\n                console.error('Error rendering LaTeX:', e);\r\n                displayContent += `<span class=\"error\">Failed to render LaTeX: ${part}</span>`;\r\n                setDisplayContent(displayContent);\r\n            }\r\n        } else {\r\n            // Process plain text content\r\n            for (let i = 0; i < part.length; i++) {\r\n                displayContent += part[i] === '\\n' ? '<br />' : part[i];\r\n                setDisplayContent(displayContent);\r\n                await textdelayRandomTime();\r\n            }\r\n        }\r\n    }\r\n};\r\n\r\n// Function to create random delay\r\n/* const delayRandomTime = () => {\r\n    return new Promise(resolve => {\r\n        const randomDelay = Math.floor(Math.random() * 1) + 0; // Delay between 50ms to 250ms\r\n        setTimeout(resolve, randomDelay);\r\n    });\r\n};  */\r\n\r\nconst textdelayRandomTime = () => {\r\n    return new Promise(resolve => {\r\n        const randomDelay = Math.floor(Math.random() * 100) + 10; // Delay between 50ms to 250ms\r\n        setTimeout(resolve, randomDelay);\r\n    });\r\n};\r\n\r\n// Main component to handle the content rendering\r\nconst TypewriterRenderer = ({ content }) => {\r\n    const [displayContent, setDisplayContent] = useState('');\r\n\r\n    useEffect(() => {\r\n        // Start the typewriter effect when the component loads\r\n        typewriterEffect(content, setDisplayContent);\r\n    }, [content]);\r\n\r\n    return (\r\n        <div>\r\n            <div\r\n                style={{\r\n                    textAlign: 'left',         // Align text to the left\r\n                    margin: '0 auto',          // Center the div horizontally\r\n                    padding: '10px',           // Add padding\r\n                    maxWidth: '800px',         // Set a max width for the container\r\n                    marginLeft: '20px',        // Add some space from the left\r\n                    border: '4px solid gray',  // Gray border\r\n                    backgroundColor: 'black',  // Black background\r\n                    color: 'white',            // White text color for contrast\r\n                    fontFamily: 'Arial, sans-serif',  // Font family\r\n                    fontSize: '18px',          // Font size\r\n                    fontWeight: 'lighter',        // Bold text\r\n                    fontStyle: 'normal',       // Italic text\r\n                    lineHeight: '1.6',         // Line height for readability\r\n                    letterSpacing: '1px'       // Space between letters\r\n                }}\r\n                dangerouslySetInnerHTML={{ __html: displayContent }}\r\n            />\r\n        </div>\r\n    );\r\n};\r\n\r\nfunction escapeBackslashes(str) {\r\n    return str.replace(/\\\\/g, '\\\\\\\\');\r\n}\r\n\r\nconst renderContentWithLatex = (content) => {\r\n    // Regular expression to match LaTeX math mode delimiters \\( ... \\) or \\[ ... \\]\r\n    content = content.replace(/\\\\\\[\\s*/g, '\\\\[');  // Replace \\[ with \\( and remove leading spaces\r\n    content = content.replace(/\\s*\\\\\\]/g, '\\\\]');  // Replace \\] with \\) and remove trailing spaces\r\n\r\n    const regex = /(\\\\\\(.*?\\\\\\))|(\\\\\\[.*?\\\\\\])|(\\\\\\[\\\\\\n.*?\\\\\\]\\\\\\n)/g;\r\n\r\n    // Split content into plain text and LaTeX parts\r\n    const parts = content.split(regex).filter(Boolean);\r\n\r\n    console.log('parts in rendercontent function', parts);\r\n\r\n    // Process each part and return a string of HTML\r\n    const htmlContent = parts.map((part, index) => {\r\n        if (!part) return '';  // Skip undefined or empty parts\r\n\r\n\r\n        // If part starts with a LaTeX delimiter, render it with KaTeX\r\n        if (part.startsWith('\\\\(') || part.startsWith('\\\\[')) {\r\n            try {\r\n                const isDisplayMode = part.startsWith('[');  // Use display mode for \\[ \\]\r\n                const mathContent = part.replace(/\\\\[\\(\\[\\)\\]]/g, '')\r\n                return katex.renderToString(mathContent, {\r\n                    delimiters: [\r\n                        { left: '$$', right: '$$', display: true },\r\n                        { left: '$', right: '$', display: false },\r\n                        { left: '\\\\(', right: '\\\\)', display: false },\r\n                        { left: '\\\\[', right: '\\\\]', display: true }\r\n                    ], throwOnError: false, displayMode: isDisplayMode\r\n                });\r\n            } catch (e) {\r\n                console.error('Error rendering LaTeX:', e);\r\n                return `<span class=\"error\">Failed to render LaTeX: ${part}</span>`;\r\n            }\r\n        } else {\r\n            // Render plain text, replacing newlines with <br> tags for line breaks\r\n            return part.replace(/\\n/g, '<br />');\r\n        }\r\n    });\r\n\r\n    // Join all parts into a single HTML string and return it\r\n    return htmlContent.join('');\r\n};\r\n\r\nfunction Typewriter({ text, speed = 50 }) {\r\n    const [displayedText, setDisplayedText] = useState('');\r\n\r\n    useEffect(() => {\r\n        let index = 0;\r\n        const timer = setInterval(() => {\r\n            if (index < text.length) {\r\n                setDisplayedText(prev => prev + text[index]);\r\n                index++;\r\n            } else {\r\n                clearInterval(timer);\r\n            }\r\n        }, speed);\r\n\r\n        return () => clearInterval(timer);\r\n    }, [text, speed]);\r\n\r\n    return <span dangerouslySetInnerHTML={{ __html: displayedText }} />;\r\n}\r\n\r\n\r\n\r\n\r\n\r\nfunction TopicSelector() {\r\n    const [subjects, setSubjects] = useState([]);\r\n    const [textbooks, setTextbooks] = useState([]);\r\n    const [chapters, setChapters] = useState([]);\r\n    const [selectedSubject, setSelectedSubject] = useState('');\r\n    const [selectedTextbook, setSelectedTextbook] = useState('');\r\n    const [selectedChapter, setSelectedChapter] = useState('');\r\n    const [latexCode, setLatexCode] = useState('');\r\n    const [userQuestion, setUserQuestion] = useState('');\r\n    const [response, setResponse] = useState('');\r\n\r\n\r\n\r\n    console.log('Fetching from URL:', '/api/subjects');\r\n\r\n\r\n    // Fetch subjects on component mount\r\n    useEffect(() => {\r\n        fetch('http://localhost:200/api/subjects')\r\n            .then(response => response.json())\r\n            .then(data => setSubjects(data))\r\n            .catch(error => console.error('Error fetching subjects:', error));\r\n    }, []);\r\n\r\n    // Fetch textbooks when a subject is selected\r\n    useEffect(() => {\r\n        if (selectedSubject) {\r\n            fetch(`http://localhost:200/api/textbooks?subjectId=${selectedSubject}`)\r\n                .then(response => response.json())\r\n                .then(setTextbooks)\r\n                .catch(error => console.error('Error fetching textbooks:', error));\r\n        } else {\r\n            setTextbooks([]); // Clear textbooks when no subject is selected\r\n        }\r\n    }, [selectedSubject]);\r\n\r\n    // Fetch chapters when a textbook is selected\r\n    useEffect(() => {\r\n        if (selectedTextbook) {\r\n            fetch(`http://localhost:200/api/chapters?textbookId=${selectedTextbook}`)\r\n                .then(response => response.json())\r\n                .then(setChapters)\r\n                .catch(error => console.error('Error fetching chapters:', error));\r\n        } else {\r\n            setChapters([]); // Clear chapters when no textbook is selected\r\n        }\r\n    }, [selectedTextbook]);\r\n\r\n    // Fetch LaTeX code when a chapter is selected\r\n    useEffect(() => {\r\n        if (selectedChapter) {\r\n            fetch(`http://localhost:200/api/latex-code?chapterId=${selectedChapter}`)\r\n                .then(response => response.json())\r\n                .then(data => setLatexCode(data.latexCode))\r\n                .catch(error => console.error('Error fetching LaTeX code:', error));\r\n        }\r\n    }, [selectedChapter]);\r\n\r\n    /* const latexCodetest = `\r\n\\\\begin{equation}\r\nx + y = z\r\n\\\\end{equation}\r\n\\\\begin{equation}\r\nx + y = z\r\n\\\\end{equation}\r\n`; */\r\n    /* const escapedLatexCode = escapeBackslashes(latexCode); */\r\n\r\n    console.log('Latex Code on render:', latexCode);\r\n    console.log('html on render:', renderContentWithLatex(latexCode));\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        try {\r\n            const res = await fetch('http://localhost:200/api/chatgpt', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n                body: JSON.stringify({\r\n                    question: userQuestion,\r\n                    latexCode: latexCode\r\n                })\r\n            });\r\n            const data = await res.json();\r\n            setResponse(data.response);\r\n        } catch (error) {\r\n            console.error('Error:', error);\r\n        }\r\n    };\r\n\r\n    const renderedresoponse = renderLatex(escapeBackslashes(response));\r\n    console.log('response from openai', response);\r\n    return (\r\n        <div style={styles.container}>\r\n            <div style={styles.left}>\r\n                <div>\r\n                    <h1>Select a Chapter</h1>\r\n                    <select value={selectedSubject} onChange={e => setSelectedSubject(e.target.value)}>\r\n                        <option value=\"\">Select a subject</option>\r\n                        {subjects.map(subject => (\r\n                            <option key={subject.id} value={subject.id}>{subject.name}</option>\r\n                        ))}\r\n                    </select>\r\n                    <select value={selectedTextbook} onChange={e => setSelectedTextbook(e.target.value)} disabled={!selectedSubject}>\r\n                        <option value=\"\">Select a textbook</option>\r\n                        {textbooks.map(textbook => (\r\n                            <option key={textbook.id} value={textbook.id}>{textbook.name}</option>\r\n                        ))}\r\n                    </select>\r\n                    <select value={selectedChapter} onChange={e => setSelectedChapter(e.target.value)} disabled={!selectedTextbook}>\r\n                        <option value=\"\">Select a chapter</option>\r\n                        {chapters.map(chapter => (\r\n                            <option key={chapter.id} value={chapter.id}>{chapter.title}</option>\r\n                        ))}\r\n                    </select>\r\n                    <div>\r\n                        <div>\r\n                            <TypewriterRenderer content={latexCode} />\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n            <div style={styles.right}>\r\n                <h1>Ask a Question about the content</h1>\r\n                <form onSubmit={handleSubmit}>\r\n                    <div>\r\n                        <label htmlFor=\"question\">Your Question:</label>\r\n                        <textarea\r\n                            id=\"question\"\r\n                            value={userQuestion}\r\n                            onChange={(e) => setUserQuestion(e.target.value)}\r\n                            rows=\"4\"\r\n                            cols=\"50\"\r\n                        />\r\n                    </div>\r\n                    <button type=\"submit\">Submit</button>\r\n                </form>\r\n\r\n\r\n                {response && (\r\n                    <div>\r\n                        <h2>Response from Aisolver</h2>\r\n                        <div>\r\n                            <TypewriterRenderer content={response} />\r\n                        </div>\r\n                    </div>\r\n\r\n                )}\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nconst styles = {\r\n    container: {\r\n        display: 'flex',              // Enable Flexbox\r\n        height: '100vh',              // Full viewport height\r\n        justifyContent: 'space-between', // Space between the two sections\r\n        padding: '20px',              // Padding for the container\r\n        overflow: 'auto',\r\n    },\r\n    left: {\r\n        width: '45%',                 // Left section width\r\n        backgroundColor: '#f0f0f0',   // Light gray background for the left section\r\n        padding: '20px',\r\n        borderRadius: '10px',         // Rounded corners\r\n        overflow: 'auto'\r\n    },\r\n    right: {\r\n        width: '45%',                 // Right section width\r\n        backgroundColor: '#e0e0e0',   // Light gray background for the right section\r\n        padding: '20px',\r\n        borderRadius: '10px',         // Rounded corners\r\n        textAlign: 'left',            // Left align text in the typewriter\r\n        overflow: 'auto'\r\n    },\r\n};\r\n\r\nexport default TopicSelector;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}