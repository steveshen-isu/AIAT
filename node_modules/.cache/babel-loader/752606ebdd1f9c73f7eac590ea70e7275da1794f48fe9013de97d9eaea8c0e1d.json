{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ZHEREN\\\\ai-solver\\\\src\\\\components\\\\TopicSelector.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction TopicSelector() {\n  _s();\n  const [subjects, setSubjects] = useState([]);\n  const [textbooks, setTextbooks] = useState([]);\n  const [chapters, setChapters] = useState([]);\n  const [selectedSubject, setSelectedSubject] = useState('');\n  const [selectedTextbook, setSelectedTextbook] = useState('');\n  const [selectedChapter, setSelectedChapter] = useState('');\n  const [latexCode, setLatexCode] = useState('');\n  console.log('Fetching from URL:', '/api/subjects');\n  fetch('/api/subjects');\n\n  // Fetch subjects on component mount\n  useEffect(() => {\n    fetch('/api/subjects').then(response => response.json()).then(data => {\n      console.log('Fetched data:', data);\n      setSubjects(data);\n    }).catch(error => console.error('Error fetching subjects:', error));\n  }, []);\n\n  // Fetch textbooks when a subject is selected\n  useEffect(() => {\n    if (selectedSubject) {\n      fetch(`/api/textbooks?subjectId=${selectedSubject}`).then(response => response.json()).then(setTextbooks).catch(error => console.error('Error fetching textbooks:', error));\n    } else {\n      setTextbooks([]); // Clear textbooks when no subject is selected\n    }\n  }, [selectedSubject]);\n\n  // Fetch chapters when a textbook is selected\n  useEffect(() => {\n    if (selectedTextbook) {\n      fetch(`/api/chapters?textbookId=${selectedTextbook}`).then(response => response.json()).then(setChapters).catch(error => console.error('Error fetching chapters:', error));\n    } else {\n      setChapters([]); // Clear chapters when no textbook is selected\n    }\n  }, [selectedTextbook]);\n\n  // Fetch LaTeX code when a chapter is selected\n  useEffect(() => {\n    if (selectedChapter) {\n      fetch(`/api/latex-code?chapterId=${selectedChapter}`).then(response => response.json()).then(data => setLatexCode(data.latexCode)).catch(error => console.error('Error fetching LaTeX code:', error));\n    }\n  }, [selectedChapter]);\n\n  /*    return (\r\n         <div>\r\n             <h1>Select a Chapter</h1>\r\n             <select value={selectedSubject} onChange={e => setSelectedSubject(e.target.value)}>\r\n                 <option value=\"\">Select a subject</option>\r\n                 {subjects.map(subject => (\r\n                     <option key={subject.id} value={subject.id}>{subject.name}</option>\r\n                 ))}\r\n             </select>\r\n             <select value={selectedTextbook} onChange={e => setSelectedTextbook(e.target.value)} disabled={!selectedSubject}>\r\n                 <option value=\"\">Select a textbook</option>\r\n                 {textbooks.map(textbook => (\r\n                     <option key={textbook.id} value={textbook.id}>{textbook.name}</option>\r\n                 ))}\r\n             </select>\r\n             <select value={selectedChapter} onChange={e => setSelectedChapter(e.target.value)} disabled={!selectedTextbook}>\r\n                 <option value=\"\">Select a chapter</option>\r\n                 {chapters.map(chapter => (\r\n                     <option key={chapter.id} value={chapter.id}>{chapter.title}</option>\r\n                 ))}\r\n             </select>\r\n             {latexCode && <div dangerouslySetInnerHTML={{__html: latexCode}} />}\r\n         </div>\r\n     );\r\n  } */\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Select a Chapter\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"choices\",\n      children: subjects.map(subject => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedSubject(subject.id),\n        className: `choice ${selectedSubject === subject.id ? 'active' : ''}`,\n        children: subject.name\n      }, subject.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"choices\",\n      style: {\n        marginTop: '10px'\n      },\n      children: textbooks.map(textbook => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedTextbook(textbook.id),\n        className: `choice ${selectedTextbook === textbook.id ? 'active' : ''}`,\n        children: textbook.name\n      }, textbook.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"choices\",\n      style: {\n        marginTop: '10px'\n      },\n      children: chapters.map(chapter => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setSelectedChapter(chapter.id),\n        className: `choice ${selectedChapter === chapter.id ? 'active' : ''}`,\n        children: chapter.name\n      }, chapter.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n_s(TopicSelector, \"LoGSRGfq2f4V+ibRAXHfYYOc0BY=\");\n_c = TopicSelector;\nexport default TopicSelector;\nvar _c;\n$RefreshReg$(_c, \"TopicSelector\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","TopicSelector","_s","subjects","setSubjects","textbooks","setTextbooks","chapters","setChapters","selectedSubject","setSelectedSubject","selectedTextbook","setSelectedTextbook","selectedChapter","setSelectedChapter","latexCode","setLatexCode","console","log","fetch","then","response","json","data","catch","error","children","fileName","_jsxFileName","lineNumber","columnNumber","className","map","subject","onClick","id","name","style","marginTop","textbook","chapter","_c","$RefreshReg$"],"sources":["C:/Users/ZHEREN/ai-solver/src/components/TopicSelector.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\n\r\nfunction TopicSelector() {\r\n    const [subjects, setSubjects] = useState([]);\r\n    const [textbooks, setTextbooks] = useState([]);\r\n    const [chapters, setChapters] = useState([]);\r\n    const [selectedSubject, setSelectedSubject] = useState('');\r\n    const [selectedTextbook, setSelectedTextbook] = useState('');\r\n    const [selectedChapter, setSelectedChapter] = useState('');\r\n    const [latexCode, setLatexCode] = useState('');\r\n    console.log('Fetching from URL:', '/api/subjects');\r\n    fetch('/api/subjects')\r\n  \r\n    \r\n    // Fetch subjects on component mount\r\n    useEffect(() => {\r\n        fetch('/api/subjects')\r\n    .then(response => response.json())\r\n    .then(data => {\r\n        console.log('Fetched data:', data);\r\n        setSubjects(data);\r\n    })\r\n    .catch(error => console.error('Error fetching subjects:', error));\r\n\r\n    }, []);\r\n\r\n    // Fetch textbooks when a subject is selected\r\n    useEffect(() => {\r\n        if (selectedSubject) {\r\n            fetch(`/api/textbooks?subjectId=${selectedSubject}`)\r\n                .then(response => response.json())\r\n                .then(setTextbooks)\r\n                .catch(error => console.error('Error fetching textbooks:', error));\r\n        } else {\r\n            setTextbooks([]); // Clear textbooks when no subject is selected\r\n        }\r\n    }, [selectedSubject]);\r\n\r\n    // Fetch chapters when a textbook is selected\r\n    useEffect(() => {\r\n        if (selectedTextbook) {\r\n            fetch(`/api/chapters?textbookId=${selectedTextbook}`)\r\n                .then(response => response.json())\r\n                .then(setChapters)\r\n                .catch(error => console.error('Error fetching chapters:', error));\r\n        } else {\r\n            setChapters([]); // Clear chapters when no textbook is selected\r\n        }\r\n    }, [selectedTextbook]);\r\n\r\n    // Fetch LaTeX code when a chapter is selected\r\n    useEffect(() => {\r\n        if (selectedChapter) {\r\n            fetch(`/api/latex-code?chapterId=${selectedChapter}`)\r\n                .then(response => response.json())\r\n                .then(data => setLatexCode(data.latexCode))\r\n                .catch(error => console.error('Error fetching LaTeX code:', error));\r\n        }\r\n    }, [selectedChapter]);\r\n\r\n /*    return (\r\n        <div>\r\n            <h1>Select a Chapter</h1>\r\n            <select value={selectedSubject} onChange={e => setSelectedSubject(e.target.value)}>\r\n                <option value=\"\">Select a subject</option>\r\n                {subjects.map(subject => (\r\n                    <option key={subject.id} value={subject.id}>{subject.name}</option>\r\n                ))}\r\n            </select>\r\n            <select value={selectedTextbook} onChange={e => setSelectedTextbook(e.target.value)} disabled={!selectedSubject}>\r\n                <option value=\"\">Select a textbook</option>\r\n                {textbooks.map(textbook => (\r\n                    <option key={textbook.id} value={textbook.id}>{textbook.name}</option>\r\n                ))}\r\n            </select>\r\n            <select value={selectedChapter} onChange={e => setSelectedChapter(e.target.value)} disabled={!selectedTextbook}>\r\n                <option value=\"\">Select a chapter</option>\r\n                {chapters.map(chapter => (\r\n                    <option key={chapter.id} value={chapter.id}>{chapter.title}</option>\r\n                ))}\r\n            </select>\r\n            {latexCode && <div dangerouslySetInnerHTML={{__html: latexCode}} />}\r\n        </div>\r\n    );\r\n} */\r\nreturn (\r\n    <div>\r\n        <h1>Select a Chapter</h1>\r\n        <div className=\"choices\">\r\n            {subjects.map(subject => (\r\n                <button key={subject.id} onClick={() => setSelectedSubject(subject.id)}\r\n                        className={`choice ${selectedSubject === subject.id ? 'active' : ''}`}>\r\n                    {subject.name}\r\n                </button>\r\n            ))}\r\n        </div>\r\n        <div className=\"choices\" style={{ marginTop: '10px' }}>\r\n            {textbooks.map(textbook => (\r\n                <button key={textbook.id} onClick={() => setSelectedTextbook(textbook.id)}\r\n                        className={`choice ${selectedTextbook === textbook.id ? 'active' : ''}`}>\r\n                    {textbook.name}\r\n                </button>\r\n            ))}\r\n        </div>\r\n        <div className=\"choices\" style={{ marginTop: '10px' }}>\r\n            {chapters.map(chapter => (\r\n                <button key={chapter.id} onClick={() => setSelectedChapter(chapter.id)}\r\n                        className={`choice ${selectedChapter === chapter.id ? 'active' : ''}`}>\r\n                    {chapter.name}\r\n                </button>\r\n            ))}\r\n        </div>\r\n    </div>\r\n);\r\n}\r\n\r\nexport default TopicSelector;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}